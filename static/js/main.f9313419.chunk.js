(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{22:function(e,t,a){e.exports=a(67)},27:function(e,t,a){},28:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(20),c=a.n(r),i=(a(27),function(e){var t=e.userId,a=e.message;return n.a.createElement("div",{className:a.from===t?"message message_from":"message message_to"},n.a.createElement("div",{className:"message__inner"},a.text))}),o=(a(28),a(21)),m=a.n(o),u=function(e){var t=e.userId,a=e.messagesList;return n.a.createElement(m.a,{className:"message__container"},n.a.createElement("div",{className:"message__container-inner"},a.map((function(e){return n.a.createElement(i,{key:e.id,message:e,userId:t})}))))},l=a(5),d=Object(s.createContext)(),f=(a(64),function(e){var t=e.userId,a=Object(s.useContext)(d).addMessages,r=Object(s.useState)(""),c=Object(l.a)(r,2),i=c[0],o=c[1],m=function(){if(i.trim().length){var e={id:Date.now()+t,from:t,text:i};a(e),o("")}};return n.a.createElement("div",{className:"form"},n.a.createElement("textarea",{className:"form__textarea",value:i,onChange:function(e){o(e.target.value)},onKeyDown:function(e){!function(e){"Enter"===e.key&&e.ctrlKey&&m()}(e)},autoFocus:!0}),n.a.createElement("button",{className:"form__button",disabled:!i.trim().length,onClick:m},"Send"))}),g=(a(65),function(e){var t=e.user,a=e.name,s=e.messagesList;return n.a.createElement("div",{className:"chat__container"},n.a.createElement("h3",{className:"chat__header"},a," ",n.a.createElement("small",null,t.name)),n.a.createElement(u,{userId:t.id,messagesList:s}),n.a.createElement(f,{userId:t.id}))});a(66);var E=function(){var e=Object(s.useContext)(d),t=e.name,a=e.usersList,r=e.messagesList,c=e.loadMessage;return Object(s.useEffect)((function(){c()}),[]),n.a.createElement("div",{className:"container"},a.map((function(e){return n.a.createElement(g,{key:e.id,name:t,user:e,messagesList:r})})))},S=a(6),v=a(11),_=function(e,t){switch(t.type){case"LOAD_MESSAGE":return Object(v.a)({},e,{messagesList:[].concat(Object(S.a)(t.payload),Object(S.a)(e.messagesList))});case"ADD_MESSAGE":return Object(v.a)({},e,{messagesList:[].concat(Object(S.a)(e.messagesList),[t.payload])});default:return e}},b=function(e){var t=e.children,a=Object(s.useReducer)(_,{id:23,name:"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u0447\u0430\u0442",usersList:[{id:1,name:"operator"},{id:2,name:"user"}],messagesList:[]}),r=Object(l.a)(a,2),c=r[0],i=r[1],o=function(){return window.localStorage&&JSON.parse(localStorage.getItem("MESSAGES"))||[]};return n.a.createElement(d.Provider,{value:{addMessages:function(e){!function(e){if(window.localStorage){var t=o();t.push(e),localStorage.setItem("MESSAGES",JSON.stringify(t))}}(e),i({type:"ADD_MESSAGE",payload:e})},loadMessage:function(){var e=o();i({type:"LOAD_MESSAGE",payload:e})},name:c.name,usersList:c.usersList,messagesList:c.messagesList}},t)};c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(b,null,n.a.createElement(E,null))),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.f9313419.chunk.js.map